(this["webpackJsonphome-wall"]=this["webpackJsonphome-wall"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),c=n(10),i=n.n(c),l=(n(107),n(19)),s=(n(108),n(43)),u=n(68),d=n(39),b=n(40),j=n(31),h=n(42),m=n(41),p="https://europe-west3-homewall-301021.cloudfunctions.net/HomeWall",g=n(172),f=n(154),O=n(171),A=n(173),x=n(59),w=n(162),v=n(163),C=n(69),y=n(158),I=n(85),P=n.n(I),k=n(76),B="read",S="create",D="delete",R="delete_own",J=o.a.createContext({}),G=n(178),H=n(156),W=n(66),M=n.n(W),N="990779024896-jr76oa2j7pj1116qhaa1qnu9offtp4ao.apps.googleusercontent.com",Y=Object(f.a)((function(e){return{root:{position:"absolute",width:"100%",maxWidth:"650px",paddingLeft:10,paddingRight:10,left:"50%",transform:"translate(-50%, 0%)"}}})),E=function(e){var t=e.open,n=e.close,r=Y();return Object(a.jsx)(H.a,{className:r.root,in:t,children:Object(a.jsx)(G.a,{severity:"error",action:Object(a.jsx)(y.a,{"aria-label":"close",color:"inherit",size:"small",onClick:n,children:Object(a.jsx)(M.a,{fontSize:"inherit"})}),children:"Failed to login"})})},V=function(e){var t=e.onLoginChange,n=Object(r.useContext)(J),c=o.a.useState(!1),i=Object(l.a)(c,2),s=i[0],u=i[1];return n.signedIn?Object(a.jsx)(k.GoogleLogout,{clientId:N,buttonText:"Logout",onLogoutSuccess:function(){return t({signedIn:!1,scopes:[B]})}}):Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(E,{open:s,close:function(){return u(!1)}}),Object(a.jsx)(k.GoogleLogin,{clientId:N,buttonText:"Login",onSuccess:function(e){var n=e.getBasicProfile();t({signedIn:!0,name:n.getName(),email:n.getEmail(),image:n.getImageUrl(),scopes:"Scott Williams"===n.getName()?[B,S,D,R]:[B,S,R]})},onFailure:function(){return u(!0)},isSignedIn:!0})]})},Q=n(179),Z=n(159),L=n(161),F=n(118),K=n(160),z=Object(f.a)({list:{width:250}}),T=function(e){var t=e.walls,n=e.open,r=e.close,o=z(),c=function(){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&r()}};return Object(a.jsx)("div",{children:Object(a.jsx)(Q.a,{anchor:"left",open:n,onClose:r,children:Object(a.jsx)("div",{className:o.list,role:"presentation",onClick:c,onKeyDown:c,children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)("img",{src:"data:image/png;base64,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",alt:"home wall logo"}),t.map((function(e){var t=e.name;return Object(a.jsx)(F.a,{button:!0,children:Object(a.jsx)(K.a,{primary:t})},t)})),Object(a.jsx)(L.a,{}),Object(a.jsx)(F.a,{button:!0,children:Object(a.jsx)(K.a,{primary:"Add wall"})}),Object(a.jsx)(L.a,{}),Object(a.jsx)(F.a,{button:!0,children:Object(a.jsx)(K.a,{primary:"About"})})]})})})})},U=Object(f.a)((function(e){return{root:{flexGrow:1},narrow:Object(x.a)({},e.breakpoints.up("sm"),{width:"calc(100% - 250px)"}),menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},spacer:{width:"100%",height:"95px"}}})),X=function(e){var t=e.wall.name,n=e.walls,r=e.onLoginChange,c=U(),i=o.a.useState(!1),s=Object(l.a)(i,2),u=s[0],d=s[1];return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(w.a,{className:u?c.narrow:null,position:"fixed",children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(y.a,{edge:"start",className:c.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return d(!0)},children:Object(a.jsx)(P.a,{})}),Object(a.jsx)(C.a,{variant:"h6",className:c.title,children:t}),Object(a.jsx)(V,{onLoginChange:r})]})}),Object(a.jsx)("div",{className:c.spacer}),Object(a.jsx)(T,{walls:n,open:u,close:function(){return d(!1)}})]})},q=function(e,t){return e.x===t.x&&e.y===t.y},_=function(e,t){if(e.points.length!==t.points.length)return!1;for(var n=0;n<e.points.length;n++)if(!q(e.points[n],t.points[n]))return!1;return!0},$="https://storage.googleapis.com/home-wall-images/wall.jpg",ee=window.matchMedia&&window.matchMedia("screen and (max-width: 900px)").matches?2*window.devicePixelRatio:window.devicePixelRatio,te=window.matchMedia?window.matchMedia("screen and (max-width: 600px)").matches?2.1:window.matchMedia("screen and (max-width: 900px)").matches?1.5:1:1,ne=function(e){return e/te*ee},ae=function(e,t){e.forEach((function(e){var n=e.points;t.beginPath();var a=n[0],r=a.x,o=a.y;t.moveTo(ne(r),ne(o)),n.forEach((function(e){var n=e.x,a=e.y;return t.lineTo(ne(n),ne(a))})),t.lineTo(ne(r),ne(o)),t.stroke(),t.closePath()}))},re=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).canvasRef=o.a.createRef(),a.state={img:null},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.holds,n=this.canvasRef.current,a=n.getContext("2d"),r=new Image;r.src=$,r.onload=function(){var o=Math.floor(r.height/(r.width/600)/te),c=Math.floor(600/te);n.width=c*ee,n.height=o*ee,n.style.width="".concat(c,"px"),n.style.height="".concat(o,"px"),a.drawImage(r,0,0,n.width,n.height),a.lineWidth=1*ee,a.strokeStyle="#FFFFFF",ae(t,a),e.setState({img:r})}}},{key:"componentDidUpdate",value:function(e){var t=this.props.holds,n=e.holds,a=this.state.img;if(n!==t){var r=this.canvasRef.current,o=r.getContext("2d");!function(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(!_(e[n],t[n]))return!1;return!0}(t,n)?(o.clearRect(0,0,r.width,r.height),o.drawImage(a,0,0,r.width,r.height),ae(t,o)):ae(t.slice(n.length),o)}}},{key:"render",value:function(){var e=this,t=this.props.onClick,n=this.state.img;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)("img",{alt:"board",style:n?{display:"none"}:{},width:600/te,height:"auto",src:$}),Object(a.jsx)("canvas",{style:n?{}:{display:"none"},ref:this.canvasRef,onMouseDown:function(n){var a=n.clientX,r=n.clientY;if(t){var o=e.canvasRef.current.getBoundingClientRect(),c=a-o.left,i=r-o.top;t({x:c*te,y:i*te})}}})]})}}]),n}(o.a.PureComponent),oe=n(168),ce=n(181),ie=n(166),le=n(183),se=n(176),ue=n(167),de={0:"5",1:"5+",2:"6A",3:"6A+",4:"6B",5:"6B+",6:"6C",7:"6C+",8:"7A",9:"7A+",10:"7B"},be=function(e){return de[e]||e},je=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),he=function(e){var t=e.selectedHolds,n=e.clickHold,c=e.saveProblem,i=e.cancel,s=je(),u=o.a.useState(5),d=Object(l.a)(u,2),b=d[0],j=d[1],h=o.a.useState(null),m=Object(l.a)(h,2),p=m[0],g=m[1],f=Object(r.useContext)(J),O=t.length<3||!p||!b;return Object(a.jsxs)("div",{className:s.root,children:[Object(a.jsx)(re,{onClick:n,holds:t}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ce.a,{className:s.formControl,label:"Problem Name",variant:"outlined",onChange:function(e){var t=e.target.value;return g(t)}}),Object(a.jsxs)(ie.a,{variant:"outlined",className:s.formControl,children:[Object(a.jsx)(le.a,{children:"Grade"}),Object(a.jsx)(se.a,{value:b,onChange:function(e){var t=e.target.value;return j(t)},label:"Grade",children:Object.keys(de).map((function(e){return Object(a.jsx)(ue.a,{value:e,children:be(e)},e)}))})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(oe.a,{className:s.formControl,variant:"contained",color:"primary",onClick:function(){return c({name:p,grade:b,author:f.name,holds:t,wallUuid:"813d0573-9640-4643-94d5-ecf3d512db4e"})},disabled:O,children:"Save problem"}),Object(a.jsx)(oe.a,{className:s.formControl,variant:"contained",color:"secondary",onClick:i,children:"Cancel"})]})]})},me=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={selectedHolds:[]},a.clickHold=a.clickHold.bind(Object(j.a)(a)),a.saveProblem=a.saveProblem.bind(Object(j.a)(a)),a}return Object(b.a)(n,[{key:"clickHold",value:function(e){var t=this,n=e.x,a=e.y,r=this.props.holds,o=this.state.selectedHolds;r.forEach((function(e){(function(e,t){for(var n=e.x,a=e.y,r=!1,o=0,c=t.length-1;o<t.length;c=o++){var i=t[o].x,l=t[o].y,s=t[c].x,u=t[c].y;l>a!==u>a&&n<(s-i)*(a-l)/(u-l)+i&&(r=!r)}return r})({x:n,y:a},e.points)&&t.setState({selectedHolds:-1===o.indexOf(e)?[].concat(Object(u.a)(o),[e]):o.filter((function(t){return!_(t,e)}))})}))}},{key:"saveProblem",value:function(e){(0,this.props.createProblem)(e),this.setState({selectedHolds:[]})}},{key:"render",value:function(){var e=this.state.selectedHolds;return Object(a.jsx)(he,Object(s.a)(Object(s.a)({},this.props),{},{selectedHolds:e,clickHold:this.clickHold,saveProblem:this.saveProblem}))}}]),n}(o.a.PureComponent),pe=n(86),ge=n.n(pe),fe=n(169),Oe=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},actions:{backgroundColor:e.palette.background.paper,"& svg":{margin:e.spacing(1.5)},"& svg:hover":{cursor:"pointer"},"& hr":{margin:e.spacing(0,.5)}},header:{paddingBottom:5}}})),Ae=function(e){var t=e.name,n=e.grade,r=e.author,o=e.cancel,c=Oe();return Object(a.jsx)("div",{className:c.header,children:Object(a.jsxs)(fe.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsxs)(fe.a,{item:!0,children:[Object(a.jsx)(C.a,{variant:"h5",component:"h2",children:"".concat(t," ").concat(be(n))}),Object(a.jsx)(C.a,{color:"textSecondary",children:"by ".concat(r)})]}),Object(a.jsx)(fe.a,{item:!0,children:Object(a.jsx)(y.a,{"aria-label":"back",onClick:o,children:Object(a.jsx)(M.a,{})})})]})})},xe=function(e,t){return e.scopes.indexOf(D)>-1||e.scopes.indexOf(R)>-1&&e.name===t},we=function(e){var t=e.problem,n=t.author,o=t.holds,c=t.uuid,i=t.name,l=t.grade,s=e.deleteProblem,u=e.cancel,d=Oe(),b=Object(r.useContext)(J);return Object(a.jsx)("div",{className:d.root,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Ae,{name:i,grade:l,author:n,cancel:u}),Object(a.jsx)(re,{holds:o}),xe(b,n)&&Object(a.jsx)(fe.a,{container:!0,alignItems:"center",direction:"row",justify:"flex-end",className:d.actions,children:Object(a.jsx)(ge.a,{"aria-label":"delete",onClick:function(){s(c),u()}})})]})})},ve=n(175),Ce=n(170),ye=n(87),Ie=n.n(ye),Pe=Object(f.a)((function(e){return{appBar:{top:"auto",bottom:0,left:"auto",right:0,position:"fixed",width:"100%",display:"flex",zIndex:1100,boxSizing:"border-box",flexShrink:0,flexDirection:"column"},grow:{flexGrow:1},fabButton:{zIndex:1,top:-15,left:0,right:0,margin:"0 auto"}}})),ke=function(e){var t=e.onCreate,n=Pe();return Object(a.jsx)("div",{color:"primary",className:n.appBar,children:Object(a.jsx)(Ce.a,{color:"secondary","aria-label":"add",className:n.fabButton,onClick:t,children:Object(a.jsx)(Ie.a,{})})})},Be=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:e.palette.background.paper},card:{position:"relative",marginBottom:"50px",display:"inline-block",backgroundColor:"black","& div:hover":{cursor:"pointer"}},overlay:{position:"absolute",bottom:"0",left:"0",width:"100%",color:"white",backgroundColor:"black",opacity:.6},description:{padding:"10px 20px 10px 20px"}}})),Se=function(e){var t=e.problems,n=e.openProblem,o=e.addProblem,c=e.filters,i=void 0===c?{name:null,grade:null,author:null}:c,l=Be(),s=Object(r.useContext)(J);return 0===t.length?Object(a.jsx)("div",{className:l.root,children:"No problems created yet"}):Object(a.jsxs)("div",{className:l.root,children:[t.filter((function(e){var t=e.name;return!i.name||t.toLowerCase().indexOf(i.name.toLowerCase())>-1})).filter((function(e){var t=e.author;return!i.author||t.toLowerCase().indexOf(i.author.toLowerCase())>-1})).filter((function(e){var t=e.grade;return!i.grade||t<=i.grade.lte&&t>=i.grade.gte})).map((function(e){var t=e.uuid,r=e.holds,o=e.name,c=e.grade,i=e.author;return Object(a.jsx)("div",{className:l.card,onClick:function(){return n(t)},children:Object(a.jsxs)("div",{children:[Object(a.jsx)(re,{holds:r}),Object(a.jsx)("div",{className:l.overlay,children:Object(a.jsx)("div",{className:l.description,children:Object(a.jsx)(ve.a,{display:"flex",p:1,children:Object(a.jsxs)(ve.a,{p:1,flexGrow:1,children:[Object(a.jsx)(C.a,{variant:"h5",children:"".concat(o," ").concat(be(c))}),Object(a.jsx)(C.a,{variant:"body1",children:"by: ".concat(i)})]})})})})]})},o)})),s.scopes.indexOf(S)>-1&&Object(a.jsx)(ke,{onCreate:o})]})},De=Object(f.a)((function(e){return{root:{}}})),Re=function(e){var t=e.problems,n=e.wall.holds,r=e.createProblem,c=e.deleteProblem,i=De(),s=o.a.useState("list"),u=Object(l.a)(s,2),d=u[0],b=u[1],j=o.a.useState(""),h=Object(l.a)(j,2),m=h[0],p=h[1];return Object(a.jsxs)("div",{className:i.root,children:["problem"===d&&Object(a.jsx)(we,{problem:t.filter((function(e){return e.uuid===m}))[0],deleteProblem:c,cancel:function(){return b("list")}}),"create"===d&&Object(a.jsx)(me,{holds:n,createProblem:function(e){return r(e)&&b("list")},cancel:function(){return b("list")}}),"list"===d&&Object(a.jsx)(Se,{problems:t,openProblem:function(e){return p(e)||b("problem")},addProblem:function(){return b("create")}})]})},Je=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},toolbar:e.mixins.toolbar,content:{flexGrow:1},loading:{display:"flex",justifyContent:"center",backgroundColor:e.palette.background.paper,marginTop:"50%",marginBottom:"50%"}}})),Ge=function(){var e=Je();return Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(O.a,{})})},He=function(e){var t=e.problems,n=e.walls,r=e.createProblem,o=e.deleteProblem,c=e.loading,i=e.onLoginChange,l=Je(),s=n[0]||{};return Object(a.jsxs)("div",{className:l.root,children:[Object(a.jsx)(g.a,{}),Object(a.jsxs)("main",{className:l.content,children:[Object(a.jsx)(X,{wall:s,walls:n,onLoginChange:i}),Object(a.jsx)(A.a,{maxWidth:"sm",children:c?Object(a.jsx)(Ge,{}):Object(a.jsx)(Re,{createProblem:r,deleteProblem:o,problems:t.filter((function(e){return e.wallUuid===s.uuid})),wall:s})})]})]})},We=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={loading:!0,walls:[],problems:[]},a.createProblem=a.createProblem.bind(Object(j.a)(a)),a.deleteProblem=a.deleteProblem.bind(Object(j.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;return fetch("".concat(p,"/problems")).then((function(e){return e.json()})).then((function(e){return e}),(function(e){console.error({error:e})})).then((function(t){return fetch("".concat(p,"/walls")).then((function(e){return e.json()})).then((function(e){return e}),(function(e){console.error({error:e})})).then((function(n){return e.setState({problems:t,walls:n,loading:!1})}))}))}},{key:"createProblem",value:function(e){var t=this;return function(e){return fetch("".concat(p,"/problems"),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e}),(function(e){console.error({error:e})}))}(e).then((function(e){return t.setState({problems:[e].concat(Object(u.a)(t.state.problems))})}))}},{key:"deleteProblem",value:function(e){var t=this,n=this.state.problems;return function(e){return fetch("".concat(p,"/problems/").concat(e),{method:"DELETE"}).then((function(e){return e}),(function(e){console.error({error:e})}))}(e).then((function(){return t.setState({problems:n.filter((function(t){return t.uuid!==e}))})}))}},{key:"render",value:function(){return Object(a.jsx)(He,Object(s.a)(Object(s.a)({},this.props),{},{createProblem:this.createProblem,deleteProblem:this.deleteProblem,problems:this.state.problems,walls:this.state.walls,loading:this.state.loading}))}}]),n}(o.a.PureComponent),Me=n(90),Ne=n(174),Ye=n(88),Ee=n.n(Ye),Ve=n(89),Qe=n.n(Ve),Ze=Object(Me.a)({palette:{primary:Ee.a,secondary:Qe.a}}),Le=function(){var e=o.a.useState({signedIn:!1,scopes:[B]}),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)(J.Provider,{value:n,children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(Ne.a,{theme:Ze,children:Object(a.jsx)(We,{onLoginChange:r})})})})};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Le,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.38e66df7.chunk.js.map